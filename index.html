
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bildungsbiografie-Spiel</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #f4f6f8; padding: 2rem; }
    .karte { background: white; padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem; box-shadow: 0 4px 8px rgba(0,0,0,0.08); }
    .btn { background: #007acc; color: white; border: none; padding: 0.6rem 1.2rem; border-radius: 6px; cursor: pointer; margin-top: 1rem; }
    .btn:hover { background: #005fa3; }
    .info { font-size: 0.9rem; color: #555; margin-top: 0.5rem; }
    li { margin-bottom: 1rem; }
  </style>
</head>
<body>
  <h1>Bildungsbiografie – Spiel</h1>
  <div class="karte" id="output">
    <p><strong>Wie heißt du?</strong></p>
    <input id="avatarName" placeholder="Dein Vorname..." />
    <button class="btn" onclick="startGame()">Spiel starten</button>
  </div>
  <div class="karte" id="spiel" style="display:none;">
    <ul id="log"></ul>
    <div id="weiter"></div>
  </div>

<script>
let name = "";
let phase = 0;
let modifikatoren = [];
let nachteileDurchNamen = false;

const vorurteilNamen = ["kevin", "chantal", "justin", "mandy", "sabrina", "cindy", "cém", "murat", "dennis", "marcel"];

const phasen = [
  {
    typ: "Herkunft",
    farbe: "#e3f2fd",
    info: "Die familiäre Herkunft beeinflusst deine Startchancen.",
    karten: [
      { text: "Beide Eltern ohne Schulabschluss.", effekt: "extrem_niedrig", w: 5 },
      { text: "Ein Elternteil mit Hauptschule, einer ohne Abschluss.", effekt: "sehr_niedrig", w: 10 },
      { text: "Beide Eltern mit Realschulabschluss.", effekt: "mittel", w: 20 },
      { text: "Ein Elternteil mit Studium, einer mit Abi.", effekt: "hoch", w: 5 },
      { text: "Beide Eltern Akademiker*innen.", effekt: "sehr_hoch", w: 2 }
    ]
  },
  {
    typ: "Modifikator",
    farbe: "#fff3e0",
    info: "Strukturelle Umstände können deinen Weg erschweren.",
    karten: [
      { text: "Migrationshintergrund – du lernst die Sprache erst spät.", effekt: "sprache", w: 20 },
      { text: "Alleinerziehend – du übernimmst früh Verantwortung.", effekt: "selbststaendig", w: 25 },
      { text: "Kein Modifikator – du hast stabile Rahmenbedingungen.", effekt: "neutral", w: 55 }
    ]
  },
  {
    typ: "Frühkindliche Bildung",
    farbe: "#e8f5e9",
    info: "Kita, Vorlesen und Förderung beeinflussen deine Sprachkompetenz.",
    karten: [
      { text: "Keine Kita – dir fehlen frühe soziale Impulse.", effekt: "malus", w: 30 },
      { text: "Kita & Sprachförderung – du startest gestärkt.", effekt: "bonus", w: 40 },
      { text: "Regelmäßiges Vorlesen – du entwickelst Freude am Lernen.", effekt: "bonus", w: 30 }
    ]
  },
  {
    typ: "Grundschulempfehlung",
    farbe: "#ede7f6",
    info: "Häufig fließen Herkunft & Verhalten in die Empfehlung ein.",
    karten: [
      { text: "Hauptschulempfehlung", effekt: "abschluss:hs", w: 60 },
      { text: "Realschulempfehlung", effekt: "abschluss:rs", w: 30 },
      { text: "Gymnasialempfehlung", effekt: "abschluss:gym", w: 10 }
    ]
  },
  {
    typ: "Sekundarstufe",
    farbe: "#e0f7fa",
    info: "Noten, Freundeskreis und Umfeld wirken sich auf deine Motivation aus.",
    karten: [
      { text: "Du bleibst auf deinem Schulzweig und schließt ab.", effekt: "abschluss:stab", w: 50 },
      { text: "Du wechselst die Schulform.", effekt: "wechsel", w: 30 },
      { text: "Du verlierst den Anschluss und brauchst Nachhilfe.", effekt: "förderbedarf", w: 20 }
    ]
  },
  {
    typ: "Abschluss",
    farbe: "#fff9c4",
    info: "Dein höchster Abschluss entscheidet über deine Berufsoptionen.",
    karten: [
      { text: "Du machst einen Hauptschulabschluss.", effekt: "beruf:ausbildung", w: 40 },
      { text: "Du schließt mit mittlerer Reife ab.", effekt: "beruf:mittlere", w: 40 },
      { text: "Du erreichst das Abitur.", effekt: "beruf:hoch", w: 20 }
    ]
  },
  {
    typ: "Berufsauswahl",
    farbe: "#e0e0e0",
    info: "Dein Weg endet in einem realistischen Beruf.",
    auswahl: [
      { name: "Pflegefachkraft", erlaubt: ["beruf:ausbildung", "beruf:mittlere"], gehalt: "3.900 €" },
      { name: "Verwaltungskraft", erlaubt: ["beruf:mittlere", "beruf:hoch"], gehalt: "3.500 €" },
      { name: "Lehrkraft", erlaubt: ["beruf:hoch"], gehalt: "6.155 €" }
    ]
  }
];

function startGame() {
  name = document.getElementById("avatarName").value.trim();
  if (!name) return alert("Bitte gib deinen Namen ein.");
  if (vorurteilNamen.includes(name.toLowerCase())) nachteileDurchNamen = true;
  document.getElementById("output").style.display = "none";
  document.getElementById("spiel").style.display = "block";
  const log = document.getElementById("log");
  log.innerHTML = `<li><strong>Willkommen, ${name}.</strong> Dein Weg beginnt.</li>`;
  if (nachteileDurchNamen) {
    log.innerHTML += `<li style="background:#ffebee; padding:1rem; border-radius:10px;"><strong>Vorurteil:</strong> Dein Name löst bei manchen Lehrkräften Vorurteile aus. Du wirst öfter unterschätzt. (Quelle: Bildungsstudien)</li>`;
    modifikatoren.push("namensvorurteil");
  }
  naechsterZug();
}

function naechsterZug() {
  const log = document.getElementById("log");
  const weiter = document.getElementById("weiter");
  weiter.innerHTML = "";
  const phaseData = phasen[phase];

  if (!phaseData) return;

  if (phaseData.auswahl) {
    weiter.innerHTML = "<p><strong>Wähle deinen Beruf:</strong></p>";
    phaseData.auswahl.forEach(opt => {
      const erlaubt = modifikatoren.includes(opt.erlaubt?.[0]) || true;
      if (erlaubt) {
        const btn = document.createElement("button");
        btn.className = "btn";
        btn.textContent = `${opt.name} (${opt.gehalt})`;
        btn.onclick = () => {
          log.innerHTML += `<li><strong>Beruf gewählt:</strong> ${opt.name} – ${opt.gehalt}</li>`;
          weiter.innerHTML = `<p><strong>Danke fürs Spielen, ${name}!</strong></p>`;
        };
        weiter.appendChild(btn);
      }
    });
    return;
  }

  const kartenpool = phaseData.karten.flatMap(k => Array(k.w).fill(k));
  const gezogen = kartenpool[Math.floor(Math.random() * kartenpool.length)];
  modifikatoren.push(gezogen.effekt);
  log.innerHTML += `<li style="background:${phaseData.farbe}; padding:1rem; border-radius:10px;"><strong>${phaseData.typ}:</strong> ${gezogen.text}<div class="info">${phaseData.info}</div></li>`;
  phase++;

  const btn = document.createElement("button");
  btn.className = "btn";
  btn.textContent = "Weiter gehen";
  btn.onclick = naechsterZug;
  weiter.appendChild(btn);
}
</script>
</body>
</html>
